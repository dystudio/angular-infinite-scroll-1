+function(n){"use strict";function t(t,e,i,l){function o(e,o){function r(){var t=m.innerHeight(),o=m.scrollTop(),r=$.prop("scrollHeight"),c=e.disabled;!n.isUndefined(c)&&c||null!==f||w==o||(w=o,o+h>=r-t&&(f=i(function(){l.when(a())["finally"](function(){f=null})},p,!0)))}function c(){$.unbind("scroll",r)}function s(t){if(n.isUndefined(t))return d;if(t)return o;throw new Error("Container option is not accepted.")}var u=n.element(t),d=n.element("html, body"),f=null,a=e.callback,h=e.threshold||200,p=e.throttle||350,$=s(e.container),b=$==d,m=b?u:o,w=0;m.on("scroll",r),e.$on("$destroy",c)}return{scope:{callback:"&srphInfiniteScroll",disabled:"=",container:"=",threshold:"=",throttle:"="},restrict:"EA",link:o}}n.module("srph.infinite-scroll",[]).directive("srphInfiniteScroll",t),t.$inject=["$window","$document","$timeout","$q"]}(angular);
+function(n){"use strict";function e(e,t,i,r){function l(e,l){function c(){var t=e.disabled;if((n.isUndefined(t)||!t)&&null===u){var l=h.height(),c=h.scrollTop(),o=h.prop("scrollHeight");c+d>o-l&&(u=i(function(){r.when(a()).then(function(){u=null})},f,!0))}}function o(){h.unbind("scroll",c)}function s(e){var i=function(){switch(e){case!!n.isUndefined(e):return t;case!!(e instanceof HTMLElement):return e;case!(e!==!0&&e!==!1):return l;case!!n.isString(e):return"parent"==e?l.parent():t.querySelector(e)}}();return n.element(i)}var u=null,a=e.callback,d=e.threshold||100,f=e.throttle||350,h=(!!e.immediate||!0,s(e.container));h.on("scroll",c),e.$on("$destroy",o)}return{scope:{callback:"&srphInfiniteScroll",disabled:"=",container:"=",threshold:"=",throttle:"=",immediate:"="},restrict:"EA",link:l}}n.module("srph.infinite-scroll",[]).directive("srphInfiniteScroll",e),e.$inject=["$window","$document","$timeout","$q"]}(angular);
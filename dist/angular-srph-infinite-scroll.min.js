+function(n){"use strict";function e(e,t,i,l){function o(o,r){function c(){var e=o.disabled;if((n.isUndefined(e)||!e)&&null===a){var t=w.innerHeight(),r=w.scrollTop(),c=$.prop("scrollHeight");r+p>=c-t&&(a=i(function(){l.when(h())["finally"](function(){a=null})},m,!0))}}function s(){$.unbind("scroll",c)}function u(e){if(n.isUndefined(e))return f;if(e)return r;throw new Error("Container option is not accepted.")}var d=n.element(e),f=(n.element(t),n.element("html, body")),a=null,h=o.callback,p=o.threshold||200,m=o.throttle||350,$=u(o.container),b=$==f,w=b?d:r;w.on("scroll",c),o.$on("$destroy",s)}return{scope:{callback:"&srphInfiniteScroll",disabled:"=",container:"=",threshold:"=",throttle:"="},restrict:"EA",link:o}}n.module("srph.infinite-scroll",[]).directive("srphInfiniteScroll",e),e.$inject=["$window","$document","$timeout","$q"]}(angular);